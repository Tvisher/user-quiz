(function(){"use strict";var e={487:function(e,t,s){var n=s(3396),i=s(9242),o=s(7139);const a={class:"poll-app quiz-app"},r={key:0,class:"quiz-app-bg"},l=["src"],p={class:"quiz-block"},u={key:1,class:"poll-items"},d={class:"sub-btn__wrap"},c=(0,n._)("div",{class:"quiz-app__footer"},[(0,n._)("div",{class:"quiz-app__footer-content"},[(0,n._)("div",{class:"quiz-app__footer-text"},"Создано в"),(0,n._)("div",{class:"quiz-app__footer-logo"})])],-1);function h(e,t,s,h,m,g){const w=(0,n.up)("app-start-page"),v=(0,n.up)("app-poll-element"),f=(0,n.up)("app-end-page");return e.appLoaded?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,o.C_)(["quiz-page",{"screen-loaded":m.screenLoaded}])},[(0,n._)("div",a,[g.hasQuizBg?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("img",{src:e.appSettings.appQuizBg.path,alt:"quiz-bg"},null,8,l)])):(0,n.kq)("",!0),(0,n._)("div",p,[m.startPage?((0,n.wg)(),(0,n.j4)(w,{key:0,appSettings:e.appSettings,onStartQuiz:g.startQuiz},null,8,["appSettings","onStartQuiz"])):(0,n.kq)("",!0),g.showQuizAnswers?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(i.uT,{mode:"out-in",name:"low-fade"},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(v,{key:m.answerNumber,pollItemId:g.quizQuestion.id,pollItemType:g.quizQuestion.type,pollItemDescr:g.quizQuestion.typeDescr,pollItemName:g.quizQuestion.typeName,pollItemData:g.quizQuestion.data,pollNumber:m.answerNumber,pollsLength:e.quizQuestionsList.length,onNextQuestion:g.nextQuestion},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n.Wm)(i.uT,{mode:"out-in",name:"btn-fade"},{default:(0,n.w5)((()=>[g.userReplied?((0,n.wg)(),(0,n.iD)("button",{key:m.nextBtnText,class:"btn app-btn sub-btn",onClick:t[0]||(t[0]=(...e)=>g.nextQuestion&&g.nextQuestion(...e))},(0,o.zw)(m.nextBtnText),1)):(0,n.kq)("",!0)])),_:1})])])),_:1},8,["pollItemId","pollItemType","pollItemDescr","pollItemName","pollItemData","pollNumber","pollsLength","onNextQuestion"]))])),_:1})])):(0,n.kq)("",!0),m.endPage?((0,n.wg)(),(0,n.j4)(f,{key:2,appSettings:e.appSettings},null,8,["appSettings"])):(0,n.kq)("",!0)])]),c],2)):(0,n.kq)("",!0)}var m=s(65);const g={class:"poll-item"},w={class:"poll-item__head"},v={class:"poll-item__counter"};function f(e,t,s,i,a,r){const l=(0,n.up)("app-visual-poll-body");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",w,[(0,n._)("div",v," Вопрос "+(0,o.zw)(r.indexNumber)+" из "+(0,o.zw)(s.pollsLength),1)]),(0,n.Wm)(l,{pollItemId:s.pollItemId,pollItemType:s.pollItemType,pollItemData:s.pollItemData},null,8,["pollItemId","pollItemType","pollItemData"]),(0,n.WI)(e.$slots,"default")])}const I=["src","alt"];function b(e,t,s,i,a,r){const l=(0,n.up)("app-text-from-editor"),p=(0,n.up)("app-single-choise-variant"),u=(0,n.up)("app-multi-choise-variant"),d=(0,n.up)("app-single-select"),c=(0,n.up)("app-multi-select"),h=(0,n.up)("app-ranging-visual"),m=(0,n.up)("app-custom-fields-visual");return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["poll-body",{"only-view":r.viewOnly}])},[r.isHasImageInPoll?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,o.C_)(["poll-body__image-block",r.imagePositionType])},[(0,n._)("img",{src:s.pollItemData.pollImage.path,alt:s.pollItemData.pollImage.name,onLoad:t[0]||(t[0]=(...e)=>r.imageLoaded&&r.imageLoaded(...e))},null,40,I)],2)):(0,n.kq)("",!0),(0,n.Wm)(l,{editorValue:s.pollItemData.editorValue},null,8,["editorValue"]),"single-choice"===s.pollItemType?((0,n.wg)(),(0,n.j4)(p,{key:1,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0),"multiple-choice"===s.pollItemType?((0,n.wg)(),(0,n.j4)(u,{key:2,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0),"drop-down-list"===s.pollItemType?((0,n.wg)(),(0,n.j4)(d,{key:3,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0),"multiple-drop-down-list"===s.pollItemType?((0,n.wg)(),(0,n.j4)(c,{key:4,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0),"ranging"===s.pollItemType?((0,n.wg)(),(0,n.j4)(h,{key:5,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0),"custom-fields"===s.pollItemType?((0,n.wg)(),(0,n.j4)(m,{key:6,optionsData:s.pollItemData.optionsData,pollItemId:s.pollItemId},null,8,["optionsData","pollItemId"])):(0,n.kq)("",!0)],2)}const y=["innerHTML"];function _(e,t,s,i,o,a){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",{class:"poll-item__answer",innerHTML:a.deltaToHtml},null,8,y)])}var A=s(7412),C={props:{editorValue:{type:Object}},computed:{deltaToHtml(){const e=this.editorValue.ops,t=new A.bc(e,{});return t.convert()}}},D=s(89);const k=(0,D.Z)(C,[["render",_]]);var L=k;const q={class:"single-choise-visual"},x=["name","onInput"],z={class:"single-choise-visual__text"};function S(e,t,s,i,a,r){return(0,n.wg)(),(0,n.iD)("div",q,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.optionsData.optionsList,(e=>((0,n.wg)(),(0,n.iD)("label",{class:(0,o.C_)(["single-choise-visual__label",{checked:e.id===a.checkedInputId,current:e.id===r.correctAnswerId}]),key:e.id},[(0,n._)("input",{class:"single-choise-visual__input",type:"radio",name:s.pollItemId,onInput:t=>r.getChecket(e.id)},null,40,x),(0,n._)("p",z,(0,o.zw)(e.value),1)],2)))),128))])}var O={props:{optionsData:Object,pollItemId:String},data(){return{checkedInputId:""}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer}),correctAnswerId(){return this.optionsData.currentAnswerId.length<1||!0===!this.showCurrentAnswer?null:this.optionsData.currentAnswerId[0]}},methods:{...(0,m.OI)(["setUserAnswer"]),getChecket(e){this.checkedInputId=e,this.setUserAnswer({questionId:this.pollItemId,userAnswer:e})}}};const T=(0,D.Z)(O,[["render",S]]);var F=T;const j={class:"multiple-choise-visual"},Q=["name","onInput"],P={class:"single-choise-visual__text"};function N(e,t,s,i,a,r){return(0,n.wg)(),(0,n.iD)("div",j,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.optionsData.optionsList,(e=>((0,n.wg)(),(0,n.iD)("label",{class:(0,o.C_)(["single-choise-visual__label",{checked:a.checkedInputs.includes(e.id),correct:r.correctAnswerId.includes(e.id)}]),key:e.id},[(0,n._)("input",{class:"single-choise-visual__input",type:"checkbox",name:s.pollItemId,onInput:t=>r.getChecket(t,e.id)},null,40,Q),(0,n._)("p",P,(0,o.zw)(e.value),1)],2)))),128))])}s(7658);var U={props:{optionsData:Object,pollItemId:String},data(){return{checkedInputs:[]}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer}),hasCorrectAnswer(){return this.optionsData.currentAnswerId.length>0&&!0===this.showCurrentAnswer},correctAnswerId(){return this.hasCorrectAnswer?this.optionsData.currentAnswerId:[]}},methods:{...(0,m.OI)(["setUserAnswer"]),getChecket(e,t){const s=e.target.checked;s?this.checkedInputs.push(t):this.checkedInputs=this.checkedInputs.filter((e=>e!==t)),this.setUserAnswer({questionId:this.pollItemId,userAnswer:[...this.checkedInputs]})}}};const V=(0,D.Z)(U,[["render",N]]);var H=V;function M(e,t,s,i,a,r){const l=(0,n.up)("v-select");return(0,n.wg)(),(0,n.j4)(l,{class:(0,o.C_)(r.isCorretnAnswer),options:a.optionsListForSelect,reduce:e=>e.id,modelValue:a.selectedOptionId,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedOptionId=e),placeholder:a.placeholder,"append-to-body":"","calculate-position":r.withPopper},{"no-options":(0,n.w5)((()=>[(0,n.Uk)(" Ничего не найдено ")])),_:1},8,["class","options","reduce","modelValue","placeholder","calculate-position"])}var Z=s(3910),B={data(){return{selectedOptionId:"",placeholder:"Выберите один из вариантов ответа",placement:"bottom",optionsListForSelect:[]}},props:{optionsData:{type:Object},pollItemId:{type:String}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer}),isCorretnAnswer(){if(this.optionsData.currentAnswerId.length>0&&this.showCurrentAnswer)return this.optionsData.currentAnswerId==this.selectedOptionId?"correct":"uncorrect"}},methods:{withPopper(e,t,{width:s}){e.style.width=s;const n=(0,Z.fi)(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offsetX:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>n.destroy()},...(0,m.OI)(["setUserAnswer"])},watch:{selectedOptionId(){const e=this.selectedOptionId?this.selectedOptionId:[];this.setUserAnswer({questionId:this.pollItemId,userAnswer:e})}},mounted(){this.optionsListForSelect=this.optionsData.optionsList.reduce(((e,t)=>{const s={label:t.value,id:t.id};return e.push(s),e}),[])}};const E=(0,D.Z)(B,[["render",M]]);var $=E;function W(e,t,s,i,o,a){const r=(0,n.up)("v-select");return(0,n.wg)(),(0,n.j4)(r,{class:"multi-select",multiple:"",pushTags:!0,options:o.optionsListForSelect,reduce:e=>e.id,modelValue:o.selectedOptionId,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedOptionId=e),placeholder:o.placeholder,"append-to-body":"","calculate-position":a.withPopper},{"no-options":(0,n.w5)((()=>[(0,n.Uk)(" Ничего не найдено ")])),_:1},8,["options","reduce","modelValue","placeholder","calculate-position"])}var R={data(){return{selectedOptionId:[],placeholder:"Выберите один или несколько вариантов ответа",placement:"bottom",optionsListForSelect:[]}},props:{optionsData:{type:Object},pollItemId:{type:String}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer})},methods:{withPopper(e,t,{width:s}){e.style.width=s;const n=(0,Z.fi)(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offsetX:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>n.destroy()},...(0,m.OI)(["setUserAnswer"])},watch:{showCurrentAnswer(){if(this.optionsData.currentAnswerId.length>0){const e=this.optionsListForSelect.filter((e=>{if(this.optionsData.currentAnswerId.includes(e.id))return e})).map((e=>e.label.toLowerCase())),t=document.querySelectorAll(".vs__selected");t.forEach((t=>{const s=t.textContent.toLowerCase();e.includes(s)?t.classList.add("correct"):t.classList.add("uncorrect")}))}},selectedOptionId(){this.setUserAnswer({questionId:this.pollItemId,userAnswer:[...this.selectedOptionId]})}},mounted(){this.optionsListForSelect=this.optionsData.optionsList.reduce(((e,t)=>{const s={label:t.value,id:t.id};return e.push(s),e}),[])}};const G=(0,D.Z)(R,[["render",W]]);var K=G;const Y=e=>((0,n.dD)("data-v-d260dd54"),e=e(),(0,n.Cn)(),e),J={class:"rangin-visual"},X={class:"rangin-visual__content"},ee=Y((()=>(0,n._)("div",{class:"rangin-visual__dragg"},[(0,n._)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M12 4.00003C13.1046 4.00003 14 3.10459 14 2.00002C14 0.895438 13.1046 0 12 0C10.8954 0 10 0.895438 10 2.00002C10 3.10459 10.8954 4.00003 12 4.00003Z",fill:"#C2CFE0"}),(0,n._)("path",{d:"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z",fill:"#C2CFE0"}),(0,n._)("path",{d:"M12 24.0001C13.1046 24.0001 14 23.1046 14 22C14 20.8954 13.1046 20 12 20C10.8954 20 10 20.8954 10 22C10 23.1046 10.8954 24.0001 12 24.0001Z",fill:"#C2CFE0"})])],-1))),te={class:"rangin-visual__num"},se={class:"rangin-visual__text"},ne={class:"rangin-visual__btns"},ie=["onClick"],oe=Y((()=>(0,n._)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M11.4138 20.586H22.5858C22.7836 20.586 22.9769 20.5273 23.1413 20.4174C23.3057 20.3075 23.4339 20.1514 23.5095 19.9687C23.5852 19.786 23.605 19.5849 23.5664 19.391C23.5279 19.197 23.4327 19.0189 23.2928 18.879L17.7068 13.293C17.5193 13.1056 17.265 13.0002 16.9998 13.0002C16.7347 13.0002 16.4804 13.1056 16.2928 13.293L10.7068 18.879C10.567 19.0189 10.4718 19.197 10.4333 19.391C10.3947 19.5849 10.4145 19.786 10.4902 19.9687C10.5658 20.1514 10.694 20.3075 10.8584 20.4174C11.0228 20.5273 11.2161 20.586 11.4138 20.586Z",fill:"#868DA4"}),(0,n._)("rect",{x:"1",y:"1",width:"31",height:"31",rx:"7",stroke:"#868DA4","stroke-width":"2"})],-1))),ae=[oe],re=["onClick"],le=Y((()=>(0,n._)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M11.4138 14H22.5858C22.7836 14 22.9769 14.0587 23.1413 14.1686C23.3057 14.2785 23.4339 14.4346 23.5095 14.6173C23.5852 14.8 23.605 15.0011 23.5664 15.195C23.5279 15.389 23.4327 15.5671 23.2928 15.707L17.7068 21.293C17.5193 21.4805 17.265 21.5858 16.9998 21.5858C16.7347 21.5858 16.4804 21.4805 16.2928 21.293L10.7068 15.707C10.567 15.5671 10.4718 15.389 10.4333 15.195C10.3947 15.0011 10.4145 14.8 10.4902 14.6173C10.5658 14.4346 10.694 14.2785 10.8584 14.1686C11.0228 14.0587 11.2161 14 11.4138 14Z",fill:"#868DA4"}),(0,n._)("rect",{x:"1",y:"1",width:"31",height:"31",rx:"7",stroke:"#868DA4","stroke-width":"2"})],-1))),pe=[le];function ue(e,t,s,a,r,l){const p=(0,n.up)("draggable");return(0,n.wg)(),(0,n.iD)("div",J,[(0,n.Wm)(p,(0,n.dG)({modelValue:r.optionsList,"onUpdate:modelValue":t[0]||(t[0]=e=>r.optionsList=e)},l.pollItemsDragOptionsInSidebar,{handle:".rangin-visual__content",onStart:t[1]||(t[1]=e=>r.isDraggingOption=!0),onEnd:t[2]||(t[2]=e=>r.isDraggingOption=!1)}),{default:(0,n.w5)((()=>[(0,n.Wm)(i.W3,{type:"transition",name:r.isDraggingOption?"flip-option-list":"fade-range"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.optionsList,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["rangin-visual__item",{correct:e.showCurrentAnswer&&l.correctOrderId[s]==t.id,wrong:e.showCurrentAnswer&&l.correctOrderId[s]!=t.id}]),key:t.id},[(0,n._)("div",X,[ee,(0,n._)("div",te,(0,o.zw)(s+1),1),(0,n._)("div",se,(0,o.zw)(t.value),1)]),(0,n._)("div",ne,[(0,n._)("div",{class:"rangin-visual__top-btn",onClick:e=>l.rangeVariant(s,"top")},ae,8,ie),(0,n._)("div",{class:"rangin-visual__bottom-btn",onClick:e=>l.rangeVariant(s,"bottom")},pe,8,re)])],2)))),128))])),_:1},8,["name"])])),_:1},16,["modelValue"])])}var de=s(8249),ce={components:{draggable:de.J},props:{optionsData:{type:Object},pollItemId:{type:String}},data(){return{optionsList:[],isDraggingOption:!1}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer}),pollItemsDragOptionsInSidebar(){return{animation:200,group:`rangeGroup-${this.pollItemId}`,scrollSensitivity:200,forceFallback:!0,disabled:!1,ghostClass:"ghost-potion",sort:!0}},correctOrder(){return this.optionsList.every(((e,t)=>e.id==this.optionsData.optionsList[t].id))},correctOrderId(){return this.optionsData.optionsList.map((e=>e.id))}},methods:{...(0,m.OI)(["setUserAnswer"]),rangeVariant(e,t){let s;function n(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}"bottom"==t&&(s=e===this.optionsList.length-1?0:e+1),"top"==t&&(s=0===e?this.optionsList.length-1:e-1),n(this.optionsList,e,s)}},watch:{optionsList(e,t){if(t.length>0){const t=e.map((e=>e.id));this.setUserAnswer({questionId:this.pollItemId,userAnswer:[...t]})}}},beforeMount(){const e=()=>{this.optionsList=[...this.optionsData.optionsList].sort((()=>Math.random()-.5))};while(this.correctOrder)e()}};const he=(0,D.Z)(ce,[["render",ue],["__scopeId","data-v-d260dd54"]]);var me=he;const ge={class:"editor-descr"},we={key:0,class:"variant-item__label"},ve=["value","onAccept"],fe={key:1,class:"variant-item__label"},Ie=["value","placeholder","onInput"],be={key:2,class:"variant-item__label"},ye=["value","placeholder","onInput"],_e={key:3,class:"variant-item__label"},Ae=["value","placeholder","onInput"];function Ce(e,t,s,i,a,r){const l=(0,n.Q2)("imask");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.customFields,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"custom-field-item",key:e.id},[(0,n._)("span",ge,(0,o.zw)(e.value||`Поле № ${t+1}`),1),"phone"===e.type?((0,n.wg)(),(0,n.iD)("label",we,[(0,n.wy)((0,n._)("input",{class:"variant-item__filed",value:e.answer,onAccept:t=>r.onAcceptPhone(t,e.id)},null,40,ve),[[l,a.phoneMask]])])):(0,n.kq)("",!0),"email"===e.type?((0,n.wg)(),(0,n.iD)("label",fe,[(0,n._)("input",{class:"variant-item__filed",value:e.answer,placeholder:a.emailPlaceholder,onInput:t=>r.emailCheck(t,e.id)},null,40,Ie)])):(0,n.kq)("",!0),"text"===e.type?((0,n.wg)(),(0,n.iD)("label",be,[(0,n._)("input",{class:"variant-item__filed",value:e.answer,placeholder:a.textFieldPlaceholder,onInput:t=>r.textFieldCheck(t,e.id)},null,40,ye)])):(0,n.kq)("",!0),"textarea"===e.type?((0,n.wg)(),(0,n.iD)("label",_e,[(0,n._)("textarea",{class:"variant-item__filed",value:e.answer,placeholder:a.textAreaPlaceholder,onInput:t=>r.textFieldCheck(t,e.id)},null,40,Ae)])):(0,n.kq)("",!0)])))),128)}var De=s(2566);function ke(e){const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}var Le={directives:{imask:De.An},props:{pollItemId:{type:String},optionsData:{type:Object}},data(){return{customFields:[],phoneMask:{mask:"+{7}(000)000-00-00",lazy:!1},emailPlaceholder:"example@mail.ru",textFieldPlaceholder:"Ваш ответ",textAreaPlaceholder:"Сообщение"}},methods:{onAcceptPhone(e,t){const s=this.customFields.find((e=>e.id===t)),n=e.detail.value.trim();s.answer=n;const i=String(n).replace(/[^0-9]/g,"");i.length<11?s.filled=!1:s.filled=!0},emailCheck(e,t){const s=e.target.value.trim(),n=this.customFields.find((e=>e.id===t));n.answer=s,ke(s)?n.filled=!0:n.filled=!1},textFieldCheck(e,t){const s=e.target.value.trim(),n=this.customFields.find((e=>e.id===t));n.answer=s,s.length>0?n.filled=!0:n.filled=!1},...(0,m.OI)(["setUserAnswer"])},beforeMount(){this.customFields=this.optionsData.optionsList.map((e=>({id:e.id,type:e.type,value:e.value,answer:"",filled:!1})))},watch:{customFields:{handler(){const e=this.customFields.map((e=>e.filled)).every((e=>!0===e));e?this.setUserAnswer({questionId:this.pollItemId,userAnswer:[...this.customFields]}):this.setUserAnswer({questionId:this.pollItemId,userAnswer:[]})},deep:!0}}};const qe=(0,D.Z)(Le,[["render",Ce]]);var xe=qe,ze={components:{AppTextFromEditor:L,AppSingleChoiseVariant:F,AppMultiChoiseVariant:H,AppSingleSelect:$,AppMultiSelect:K,AppRangingVisual:me,AppCustomFieldsVisual:xe},props:{pollItemId:{type:[Number,String]},pollItemType:{type:String},pollItemData:{type:Object}},computed:{...(0,m.rn)({showCurrentAnswer:e=>e.showCurrentAnswer}),isHasImageInPoll(){const e=this.pollItemData.pollImage;return e&&0!==Object.keys(e).length},imagePositionType(){if(this.isHasImageInPoll)return this.pollItemData.pollImage.stretchImage?"_cover":"_contain"},viewOnly(){return!0===this.showCurrentAnswer}},methods:{imageLoaded(e){console.log("image loaded")}}};const Se=(0,D.Z)(ze,[["render",b]]);var Oe=Se,Te={components:{AppVisualPollBody:Oe},props:{pollItemId:{type:[Number,String]},pollItemType:{type:String},pollItemName:{type:String},pollItemData:{type:Object},pollNumber:{type:Number},pollsLength:{type:Number}},data(){return{}},computed:{indexNumber(){return this.pollNumber+1}},methods:{}};const Fe=(0,D.Z)(Te,[["render",f]]);var je=Fe;const Qe={class:"quiz-start"},Pe={class:"quiz-start__head"},Ne={key:0,class:"quiz-start__logo"},Ue=["src"],Ve={class:"quiz-start__title"},He={class:"quiz-start__descr"},Me={class:"quiz-start-btn__wrapper"};function Ze(e,t,s,i,a,r){return(0,n.wg)(),(0,n.iD)("div",Qe,[(0,n._)("div",Pe,[r.appLogo?((0,n.wg)(),(0,n.iD)("div",Ne,[(0,n._)("img",{style:(0,o.j5)({objectFit:r.stretchAppLogo}),src:r.appLogo,alt:""},null,12,Ue)])):(0,n.kq)("",!0),(0,n._)("div",Ve,(0,o.zw)(r.appTitle),1)]),(0,n._)("div",He,(0,o.zw)(r.appDescription),1),(0,n._)("div",Me,[(0,n._)("button",{class:"btn quiz-start-btn app-btn",onClick:t[0]||(t[0]=t=>e.$emit("startQuiz"))}," Пройти Викторину ")])])}var Be={props:{appSettings:{type:Object}},computed:{appLogo(){const e=this.appSettings.appLogo.path;return e||!1},stretchAppLogo(){return this.appSettings.appLogo.stretchImage&&1==this.appSettings.appLogo.stretchImage?"cover":"contain"},appTitle(){return this.appSettings.appTitle},appDescription(){return this.appSettings.appDescription}}};const Ee=(0,D.Z)(Be,[["render",Ze]]);var $e=Ee;const We={class:"quiz-end"},Re={key:0,class:"quiz-end-precent"},Ge={class:"quiz-end-precent__img"},Ke=(0,n.uE)('<svg width="204" height="203" viewBox="0 0 204 203" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="102.5" cy="102" r="92" fill="var(--app-color)"></circle><path d="M194.5 102C194.5 89.9184 192.12 77.9551 187.497 66.7931C182.873 55.6312 176.097 45.4892 167.554 36.9462C159.011 28.4032 148.869 21.6265 137.707 17.0031C126.545 12.3796 114.582 10 102.5 10L102.5 102H194.5Z" fill="url(#paint0_linear_1181_55336)"></path><path d="M10.4996 102L102.5 194L194.5 102L10.4996 102Z" fill="url(#paint1_linear_1181_55336)"></path><defs><linearGradient id="paint0_linear_1181_55336" x1="-10.7307" y1="-53.532" x2="253.033" y2="-20.3577" gradientUnits="userSpaceOnUse"><stop offset="0.0261371" stop-color="white" stop-opacity="0.81"></stop><stop offset="1" stop-color="white" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear_1181_55336" x1="72.3191" y1="119.942" x2="219.688" y2="75.4972" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0"></stop><stop offset="1" stop-color="white"></stop></linearGradient></defs></svg>',1),Ye={class:"quiz-end-precent__value"},Je=(0,n._)("div",{class:"quiz-end-precent__title"},"Правильных ответов",-1),Xe={key:1,class:"quiz-end-message"},et={class:"quiz-end-btns"},tt={key:0,class:"quiz-end-btn"},st=["href"],nt={key:1,class:"quiz-end-btn"};function it(e,t,s,i,a,r){return(0,n.wg)(),(0,n.iD)("div",We,[r.appHasCurrentAnswers?((0,n.wg)(),(0,n.iD)("div",Re,[(0,n._)("div",Ge,[Ke,(0,n._)("div",Ye,(0,o.zw)(r.truePrecentValue)+"%",1)]),Je])):(0,n.kq)("",!0),r.isHasAppFinalMessage?((0,n.wg)(),(0,n.iD)("div",Xe,(0,o.zw)(s.appSettings.appFinalMessage),1)):(0,n.kq)("",!0),(0,n._)("div",et,[r.isHasCustomLink?((0,n.wg)(),(0,n.iD)("div",tt,[(0,n._)("a",{href:r.customFinishLinkUrl,class:"btn app-btn"},(0,o.zw)(r.customFinishLinkText),9,st)])):(0,n.kq)("",!0),r.takeTheQuizagain?((0,n.wg)(),(0,n.iD)("div",nt,[(0,n._)("a",{href:"#",class:"btn app-btn",onClick:t[0]||(t[0]=(...e)=>r.pageReload&&r.pageReload(...e))},"Пройти викторину повторно")])):(0,n.kq)("",!0)])])}function ot(e,t){const s=e.filter((e=>t.includes(e)));return s.length>t.length/2}function at(e,t){const s=Math.min(e.length,t.length),n=e.slice(0,s).filter(((e,s)=>e===t[s]));return n.length>s/2}function rt(e){const t=e.reduce(((e,t)=>e+ +t),0),s=e.length;return Math.round(t/s*100)}var lt={props:{appSettings:{type:Object}},computed:{...(0,m.rn)({userAnswers:e=>e.userAnswers}),isHasAppFinalMessage(){return""!=this.appSettings.appFinalMessage.trim()},isHasCustomLink(){return this.appSettings.customFinishLink.enable},customFinishLinkUrl(){return this.appSettings.customFinishLink.data.linkUrl},customFinishLinkText(){return this.appSettings.customFinishLink.data.linkText},takeTheQuizagain(){return this.appSettings.takeTheQuizagain},appHasCurrentAnswers(){return this.userAnswers.filter((e=>e.hasOwnProperty("correctAnswer")&&e.correctAnswer.length>0)).length>0},truePrecentValue(){const e=this.userAnswers.filter((e=>e.hasOwnProperty("correctAnswer")&&e.correctAnswer.length>0)).map((e=>"single-choice"==e.questionType||"drop-down-list"==e.questionType?e.userAnswer[0]==e.correctAnswer[0]:"multiple-drop-down-list"==e.questionType||"multiple-choice"==e.questionType?ot(e.userAnswer,e.correctAnswer):"ranging"==e.questionType?at(e.userAnswer,e.correctAnswer):void 0));return rt(e)}},methods:{pageReload(){window.location.reload()}}};const pt=(0,D.Z)(lt,[["render",it]]);var ut=pt,dt={components:{AppPollElement:je,AppStartPage:$e,AppEndPage:ut},name:"App",data(){return{answerNumber:0,startPage:!0,endPage:!1,screenLoaded:!1,nextBtnText:""}},computed:{...(0,m.rn)({appLoaded:e=>e.appLoaded,quizQuestionsList:e=>e.quizQuestionsList,appSettings:e=>e.appSettings,showCurrentAnswer:e=>e.showCurrentAnswer,userAnswers:e=>e.userAnswers}),...(0,m.Se)(["questionHasUserAnswer"]),quizQuestionsListLength(){return this.quizQuestionsList.length},showQuizAnswers(){return!this.startPage&&!this.endPage},hasQuizBg(){return this.appSettings.appQuizBg.path},quizQuestion(){return this.quizQuestionsList[this.answerNumber]},userReplied(){return this.questionHasUserAnswer(this.answerNumber).userAnswer.length>0},questionHasCorrectAnswer(){return this.userAnswers[this.answerNumber].correctAnswer.length>0}},methods:{...(0,m.OI)(["toggleShowCurrentAnswer"]),startQuiz(){this.startPage=!1},nextQuestion(){if(this.answerNumber<this.quizQuestionsListLength-1){if(!this.questionHasCorrectAnswer)return void this.answerNumber++;if(!0===this.showCurrentAnswer)return this.toggleShowCurrentAnswer(),void this.answerNumber++;this.toggleShowCurrentAnswer()}this.answerNumber==this.quizQuestionsListLength-1&&(this.endPage=!0)}},watch:{showCurrentAnswer(){!0===this.showCurrentAnswer?this.nextBtnText="Далее":this.nextBtnText="Ответить"},appLoaded(){this.questionHasCorrectAnswer?this.nextBtnText="Ответить":this.nextBtnText="Далее"},answerNumber(){this.questionHasCorrectAnswer?this.nextBtnText="Ответить":this.nextBtnText="Далее"}},beforeCreate(){this.$store.dispatch("getAppDataFromServer"),window.addEventListener("load",(()=>{console.log("page-load"),setTimeout((()=>{this.screenLoaded=!0}),200)}))}};const ct=(0,D.Z)(dt,[["render",h]]);var ht=ct,mt=s(4161);const gt={resState:'{"appType":"quiz","applicationReady":false,"pollTypesList":[],"currentPageId":"1","pagesLimit":5,"pollsInPageLimit":10,"pagesMinLength":1,"colors":[],"textColors":[{"name":"Белый","value":"#FFFFFF"},{"name":"Чёрный","value":"#000000"}],"appSettings":{"appTitle":"Это тестовый заголовок викторины. Викторина про всё подряд","appDescription":"Безусловно, синтетическое тестирование играет определяющее значение для направлений прогрессивного развития. Банальные, но неопровержимые выводы, а также действия представителей оппозиции являются только методом политического участия и разоблачены. Современные технологии достигли такого уровня, что реализация намеченных плановых заданий предполагает независимые способы реализации кластеризации усилий.","appPromo":"","appFinalMessage":"Спасибо за прохождение опроса. Больше полезной информации вы можете получить нажав на кнопку \\"Перейти на сайт\\"","hasCorrectAnswers":true,"takeTheQuizagain":true,"customFinishLink":{"enable":true,"data":{"linkText":"Перейти на сайт","linkUrl":"https://www.youtube.com/"},"linkText":"Перейти на сайт","linkUrl":"https://www.youtube.com/"},"appColor":{"name":"Пурпурный","value":"#EA13D4 "},"appTextColor":{"name":"Белый","value":"#FFFFFF"},"appLogo":{"name":"jupiter.png","path":"https://dev.vnutricom.ru/upload/tmp/poll/c29/ijeawkfnnf7whecfy7x80dcesypophd6.png","stretchImage":false},"appQuizBg":{"name":"111111.jpg","path":"https://dev.vnutricom.ru/upload/tmp/poll/d43/2w92qxao7agtx4jilmfb8unxkb0n8n2u.jpg"}},"pollPages":[{"id":"1","pageComment":"","pollList":[{"type":"single-choice","typeName":"Одиночный выбор","typeDescr":"Описание для элемента опроса Одиночный выбор","data":{"pollImage":{"name":"astronaut.png","path":"https://dev.vnutricom.ru/upload/tmp/poll/521/33991cvdzhsvvpmihbwrpdm15ztzoud3.png","stretchImage":false},"editorValue":{"ops":[{"insert":"Кто изображён на данной "},{"attributes":{"bold":true},"insert":"картинке"},{"insert":"?\\n\\n"}]},"optionsData":{"minOptionsLength":2,"maxOptionsLength":10,"currentAnswerId":["1"],"optionsList":[{"id":"1","value":"Космонавт"},{"id":"2","value":"Велосипедист"},{"id":"e33461ab-3576-43f3-9bf2-a1f3e755dda1","value":"Повар"},{"id":"f665af42-a937-4d05-be17-3bd26b9fb50f","value":"Гонщик"}]}},"id":"c3345a3a-89a9-4eeb-9dfc-3f6983262233"},{"type":"drop-down-list","typeName":"Выпадающий список","typeDescr":"Описание для элемента опроса Выпадающий список","data":{"pollImage":{"name":"neptun.png","path":"https://dev.vnutricom.ru/upload/tmp/poll/fa5/quvp49n1o9imhnk0owsqt7gqmo75piy0.png"},"editorValue":{"ops":[{"insert":"Какая "},{"attributes":{"bold":true},"insert":"планета "},{"insert":"изображена на картинке?\\n\\n"}]},"optionsData":{"minOptionsLength":2,"maxOptionsLength":10,"currentAnswerId":["1"],"optionsList":[{"id":"2","value":"Меркурий"},{"id":"1","value":"Нептун"},{"id":"dc1c09cb-1c67-449b-b847-6663697aebec","value":"Венера"},{"id":"0ba0a0d1-cc23-4d66-b869-32fc133168a7","value":"Уран"},{"id":"e1a6fe9c-363b-46c6-80b8-b88cef086aa4","value":"Земля"}]}},"id":"fa8c7705-cca1-4676-87de-32e44c77cef6"},{"type":"multiple-drop-down-list","typeName":"Множественный вып. список","typeDescr":"Описание для элемента опроса Множественный вып. список","data":{"pollImage":{"name":"video-poster.jpg","path":"https://dev.vnutricom.ru/upload/tmp/poll/06d/39bog2o3astel0ftv2bjxif8d05rgqcz.jpg","stretchImage":true},"editorValue":{"ops":[{"insert":"Какие небесные тела входят в состав солнечной системы?\\n"}]},"optionsData":{"minOptionsLength":2,"maxOptionsLength":10,"currentAnswerId":["1f6f5be1-125f-41e1-bbd0-964b0563ed33","1"],"optionsList":[{"id":"1","value":"Луна"},{"id":"2","value":"Кеплер"},{"id":"24e3f2ac-c4c6-4a2c-8f24-9cfa9287475c","value":"Синаксис"},{"id":"1f6f5be1-125f-41e1-bbd0-964b0563ed33","value":"Плутон"},{"id":"778aa3b5-5587-446d-bff2-33a626ffe8a9","value":"Бетельгейзе"}]}},"id":"19f00d08-1835-47e8-9536-b9da2c36745e"},{"type":"multiple-choice","typeName":"Множественный выбор","typeDescr":"Описание для элемента опроса Множественный выбор","data":{"pollImage":{"name":"most-read-img-3.jpg","path":"https://dev.vnutricom.ru/upload/tmp/poll/b1f/ibb76al0p4tc1c06amrwc3ttubi82fe0.jpg","stretchImage":false},"editorValue":{"ops":[{"insert":"Какие фирмы выпускают "},{"attributes":{"underline":true},"insert":"наушники"},{"insert":"?\\n"},{"attributes":{"italic":true,"script":"sub"},"insert":"Необходимо выбрать все верные варианты*"},{"insert":"\\n"}]},"optionsData":{"minOptionsLength":2,"maxOptionsLength":10,"currentAnswerId":["1","2","69a3e261-dd75-417b-ad10-7f782363fe0e","de516954-f07e-44e7-952a-ed8b0967ea51"],"optionsList":[{"id":"1","value":"JBL"},{"id":"2","value":"SONY"},{"id":"c1be734b-07be-4679-b2b4-14f20e5feafe","value":"Kawasaki"},{"id":"69a3e261-dd75-417b-ad10-7f782363fe0e","value":"Samsung"},{"id":"de516954-f07e-44e7-952a-ed8b0967ea51","value":"Apple"},{"id":"d7e6f6e2-3759-4c3f-bedb-3ac40d01576d","value":"Toyota"}]}},"id":"7d61ac24-47af-4f0a-b741-fa25b1c9182a"},{"type":"ranging","typeName":"Ранжирование","typeDescr":"Описание для элемента опроса Ранжирование","data":{"pollImage":{"name":"gestion-de-projet-erreurs-777x518.jpg","path":"https://dev.vnutricom.ru/upload/tmp/poll/203/i3q0sejo11fev09rjbnu4p6aykj0hmop.jpg","stretchImage":true},"editorValue":{"ops":[{"insert":"В какой последовательности идут дни недели ?\\n"},{"attributes":{"underline":true,"italic":true,"bold":true,"script":"sub"},"insert":"Укажите верный порядок"},{"insert":"\\n"}]},"optionsData":{"minOptionsLength":2,"maxOptionsLength":10,"optionsList":[{"id":"1","value":"Понедельник"},{"id":"2","value":"Вторник"},{"id":"b5a5e319-8e9f-4b40-bfbc-a3ec41cb01e0","value":"Среда"},{"id":"e6257c93-1cb3-40a7-ac5c-5b7d55f0273b","value":"Четверг"},{"id":"5892989e-b3d7-49f4-ba53-feb660c80a6c","value":"Пятница"},{"id":"1c2f7068-6a59-401d-96ed-061162a6083d","value":"Суббота"},{"id":"51c3d3dc-9b5e-4b01-b1e9-d815dd1d6ef9","value":"Воскресенье"}]}},"id":"8e6c00d6-c76d-4a55-bc1b-498f945bdb16"},{"type":"custom-fields","typeName":"Кастомные поля","typeDescr":"Описание для элемента опроса Кастомные поля","data":{"pollImage":{"name":"happy-young-male-customer-support-executive-working-office-scaled.jpg","path":"https://dev.vnutricom.ru/upload/tmp/poll/a43/axv45ibd9qdv8xknrzle4k61xpd5onzg.jpg","stretchImage":true},"editorValue":{"ops":[{"insert":"Пожалуйста, сообщите нам ваше мнение о данном сервисе. Укажите данные бля обратной связи, и наш специалист "},{"attributes":{"bold":true},"insert":"обязательно с вами свяжется"},{"insert":" для предоставления обратной связи.\\n"}]},"optionsData":{"minOptionsLength":1,"maxOptionsLength":10,"optionsList":[{"id":"1","type":"text","value":"Имя:"},{"id":"77ff5368-c7d8-4b32-b8af-94d145d618b5","type":"phone","value":"Телефон:"},{"id":"732f573b-f8f7-4fc1-bbbb-39b575e221c7","type":"email","value":"Email:"},{"id":"004f5f1e-25ee-4d20-a082-a763a8d18ba2","type":"textarea","value":"Что вы думаете о нашем опросе?"}]}},"id":"ce41463d-1c2d-4c64-a194-1b4edb85ccf2"}]}]}'};var wt=gt;const vt=document.querySelector("#app").dataset.pollId;var ft=(0,m.MT)({state:{appLoaded:!1,showCurrentAnswer:!1,quizQuestionsList:[],appSettings:{},userAnswers:[]},getters:{questionHasUserAnswer:e=>t=>e.userAnswers.find(((e,s)=>s==t))},mutations:{toggleShowCurrentAnswer(e){e.showCurrentAnswer=!e.showCurrentAnswer},setQuizQuestionsList(e,t){e.quizQuestionsList=t;const s=t.map((e=>{const t=e.data.optionsData.hasOwnProperty("currentAnswerId")&&e.data.optionsData.currentAnswerId.length>0;let s=t?e.data.optionsData.currentAnswerId:[];return"ranging"===e.type&&(s=e.data.optionsData.optionsList.map((e=>e.id))),{questionType:e.type,questionId:e.id,optionsList:e.data.optionsData.optionsList,correctAnswer:s,userAnswer:[]}}));e.userAnswers=s},setQuizAppSettings(e,t){e.appSettings=t,document.body.style.setProperty("--app-color",e.appSettings.appColor.value),document.body.style.setProperty("--app-text-color",e.appSettings.appTextColor.value),e.appLoaded=!0},setUserAnswer(e,{questionId:t,userAnswer:s}){const n=e.userAnswers.find((e=>e.questionId===t));n.userAnswer="string"==typeof s?[s]:[...s]}},actions:{getAppDataFromServer({commit:e}){mt.Z.get("/bitrix/templates/quiz/itemjson.php",{params:{id:vt,type:"quiz"}}).then((function(t){console.log(t.data);const s=JSON.parse(t.data.resState),n=s.pollPages[0].pollList;e("setQuizQuestionsList",n);const i=s.appSettings;e("setQuizAppSettings",i)})).catch((function(t){console.log(t);const s=JSON.parse(wt.resState),n=s.pollPages[0].pollList;e("setQuizQuestionsList",n);const i=s.appSettings;e("setQuizAppSettings",i)}))}}}),It=s(3636);It.Z.props.components.default=()=>({OpenIndicator:{render:()=>(0,n.h)("span",{class:{"toggle-arrow":!0}})},Deselect:{render:()=>(0,n.h)("span",{class:{"deselect-btn":!0},title:""})}});(0,i.ri)(ht).component("vSelect",It.Z).use(ft).mount("#app")}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var p=i();void 0!==p&&(t=p)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],r=n[1],l=n[2],p=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var u=l(s)}for(t&&t(n);p<a.length;p++)o=a[p],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkquiz_tmp"]=self["webpackChunkquiz_tmp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(487)}));n=s.O(n)})();